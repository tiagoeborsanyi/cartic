!function(a,b){"function"==typeof define&&define.amd?define(["angular"],b):a.taggedInfiniteScroll=b(a.angular)}(this,function(a){"use strict";var b=a.module("tagged.directives.infiniteScroll",[]);return b.directive("taggedInfiniteScroll",["$window","$timeout",function(b,c){return{scope:{callback:"&taggedInfiniteScroll",distance:"=taggedInfiniteScrollDistance",disabled:"=taggedInfiniteScrollDisabled"},link:function(d,e){var f=a.element(b),g=function(){if(!d.disabled){var a=f[0].innerHeight,b=e[0].offsetTop+e[0].offsetHeight,g=a+(f[0].scrollY||f[0].pageYOffset),h=b-g,i=h-parseInt(d.distance||0,10)<=0;i&&c(d.callback)}};d.$watch("disabled",function(a){!1===a&&g()}),f.bind("scroll",g),d.$on("$destroy",function(){f.unbind("scroll",g)}),c(g)}}}]),b});